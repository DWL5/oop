## DiscountCondition 개선하기

커밋 '구현을 통한 검증'은 변경에 취약한 클래스를 포함하고 있다. 변경에 취약한 클래스란 코드를 수정해야 하는 이유를 하나 이상 가지는 클래스다.

DiscountCondition은 다음과 같이 서로 다른 세가지 이유로 변경될 수 있다.

1. 새로운 할인 조건 추가
2. 순번 조건을 판단하는 로직변경
   - 순번 조건에 대한 요구샇아이 달라질 경우에 구현이 변경
3. 기간 조건을 판단하는 로직 변경
   - 기간 조건에 대한 요구사항이 달라질 경우에 구현이 변경

=> 변경의 이유에 따라 클래스를 분리해야 한다.



### 코드를 통해 응집도가 낮은 코드 파악하기

- 인스턴스 변수가 초기화 되는 시점
  - 응집도가 높은 클래스
    - 인스턴스를 생성할 때 모든 속성을 함께 초기화
  - 응집도가 낮은 클래스
    - 객체의 속성 중 일부만 초기화하고 일부는 초기화되지 않은 상태로 

- 메서드들이 인스턴스 변수를 사용하는 방식을 살펴보기
  - 모든 메서드가 객체의 모든 속성을 사용한다면 클래스의 응집도는 높다
  - 반면 메서드들이 사용하는 속성에 따라 그룹이 나뉜다면 클래스의 응집도가 낮다.



### 타입 분리하기

- feat: 타입분리하기 커밋은 DiscountCondition에 속해있던 기간 조건, 순번 조건을 PeriodDiscountCondition과 SequenceCondition으로 분리함으로써 응집도가 높아졌다.
- 그러나 Movie에서 PeriodDiscountCondition과 SequenceCondition에 의존하게 되면서 결합도 또한 높아졌다.